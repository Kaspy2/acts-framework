file(GLOB_RECURSE src_files "src/*.*pp")

add_executable(ACTFWGenericFatrasExample src/GenericFatrasExample.cpp)
target_include_directories(ACTFWGenericFatrasExample PRIVATE ACTS::ACTSCore)
target_include_directories(ACTFWGenericFatrasExample PRIVATE ACTFramework ACTFWGenericDetector ACTFWRootPlugin ACTFWCsvPlugin ACTFWJsonPlugin ACTFWObjPlugin)
target_include_directories(ACTFWGenericFatrasExample PRIVATE ACTWReadEvgen ACTFWExtrapolation ACTFWDigitization ACTFWFatras)
target_link_libraries(ACTFWGenericFatrasExample PRIVATE ACTS::ACTSCore)
target_link_libraries(ACTFWGenericFatrasExample PRIVATE ACTFramework ACTFWGenericDetector ACTFWRootPlugin ACTFWCsvPlugin ACTFWJsonPlugin ACTFWObjPlugin)
target_link_libraries(ACTFWGenericFatrasExample PRIVATE ACTFWReadEvgen ACTFWExtrapolation ACTFWDigitization ACTFWFatras)

install(TARGETS ACTFWGenericFatrasExample RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR})

if(USE_DD4HEP)
  add_executable(ACTFWDD4hepFatrasExample src/DD4hepFatrasExample.cpp)
  target_include_directories(ACTFWDD4hepFatrasExample PRIVATE ACTS::ACTSCore)
  target_include_directories(ACTFWDD4hepFatrasExample PRIVATE ACTFramework ACTFWRootPlugin ACTFWCsvPlugin ACTFWJsonPlugin ACTFWObjPlugin ACTFWDD4hepPlugin)
  target_include_directories(ACTFWDD4hepFatrasExample PRIVATE ACTWReadEvgen ACTFWExtrapolation ACTFWDigitization ACTFWFatras)
  target_link_libraries(ACTFWDD4hepFatrasExample PRIVATE ACTS::ACTSCore)
  target_link_libraries(ACTFWDD4hepFatrasExample PRIVATE ACTFramework ACTFWRootPlugin ACTFWCsvPlugin ACTFWJsonPlugin ACTFWObjPlugin ACTFWDD4hepPlugin)
  target_link_libraries(ACTFWDD4hepFatrasExample PRIVATE ACTFWReadEvgen ACTFWExtrapolation ACTFWDigitization ACTFWFatras)
  target_link_libraries(ACTFWDD4hepFatrasExample PUBLIC ${DD4hep_LIBRARIES})

  install(TARGETS ACTFWDD4hepFatrasExample RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR})
endif()
